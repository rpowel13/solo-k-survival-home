
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- DNS Prefetch for critical domains -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://daorpdnaganfugudqkmk.supabase.co">
    <link rel="dns-prefetch" href="https://d2ra6nuwn69ktl.cloudfront.net">
    
    <!-- Preconnect to critical domains for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
    <link rel="preconnect" href="https://daorpdnaganfugudqkmk.supabase.co" crossorigin>
    
    <!-- Basic SEO meta tags - more detailed ones will be added by PageSEO -->
    <title>Survival 401k - Solo 401k Plans for Self-Employed Professionals</title>
    <meta name="description" content="Maximize your retirement savings with Survival 401k's solo 401k plans. Created specifically for self-employed individuals and small business owners." />
    <meta name="theme-color" content="#ffffff" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    
    <!-- Favicon - optimized sizes -->
    <link rel="icon" type="image/png" href="/lovable-uploads/0f83d653-06a8-405a-93ad-63c001f058bc.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/lovable-uploads/0f83d653-06a8-405a-93ad-63c001f058bc.png">

    <!-- Preload critical assets -->
    <link rel="preload" href="/lovable-uploads/0f83d653-06a8-405a-93ad-63c001f058bc.png" as="image" fetchpriority="high" />
    <link rel="preload" href="/src/main.tsx" as="script" />
    <link rel="modulepreload" href="/src/App.tsx" />
    
    <!-- Preload critical CSS -->
    <link rel="preload" href="/src/index.css" as="style" />
    <link rel="preload" href="/src/App.css" as="style" />
    
    <!-- Google Analytics - load with defer to prevent parser blocking -->
    <script defer src="https://www.googletagmanager.com/gtag/js?id=G-NJX7VTWTSJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NJX7VTWTSJ', {
        'send_page_view': false, // Disable auto pageview to control timing
      });
      // Send pageview when the page finishes loading for better accuracy
      window.addEventListener('load', function() {
        gtag('event', 'page_view');
      });
    </script>
    
    <!-- LiveSite Widget - load asynchronously -->
    <script type='text/javascript' charset='utf-8'>
      window.liveSiteAsyncInit = function() {
        LiveSite.init({
          id : 'WI-8IL6YV1XGF8DPNLLLS8Z'
        });
      };
      (function(d, s, id){
        var js, fjs = d.getElementsByTagName(s)[0],
            p = 'https://',
            r = Math.floor(new Date().getTime() / 1000000);
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = p + "d2ra6nuwn69ktl.cloudfront.net/assets/livesite.js?" + r;
        js.async = true;
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'livesite-jssdk'));
    </script>
    
    <!-- Load font asynchronously with font-display:swap for better performance -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" media="print" onload="this.media='all'" crossorigin>
    <noscript>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    </noscript>
    
    <!-- Performance monitoring -->
    <script>
      // Enhanced performance monitoring with Core Web Vitals
      window.addEventListener('DOMContentLoaded', () => {
        if ('PerformanceObserver' in window) {
          try {
            // Track Core Web Vitals
            const vitalsObserver = new PerformanceObserver((list) => {
              for (const entry of list.getEntries()) {
                console.log(`Core Web Vital: ${entry.name}`, entry);
              }
            });
            vitalsObserver.observe({ type: 'largest-contentful-paint', buffered: true });
            vitalsObserver.observe({ type: 'first-input', buffered: true });
            vitalsObserver.observe({ type: 'layout-shift', buffered: true });
            
            // Track navigation timing
            if (performance.getEntriesByType) {
              setTimeout(() => {
                const navTiming = performance.getEntriesByType('navigation')[0];
                if (navTiming) {
                  console.log('Page Performance:', {
                    domContentLoaded: Math.round(navTiming.domContentLoadedEventEnd),
                    loadComplete: Math.round(navTiming.loadEventEnd),
                    domInteractive: Math.round(navTiming.domInteractive),
                    firstContentfulPaint: Math.round(performance.getEntriesByName('first-contentful-paint')[0]?.startTime || 0)
                  });
                }
              }, 0);
            }
            
            // Resource timing
            const resourceObserver = new PerformanceObserver((list) => {
              const entries = list.getEntries();
              const slowResources = entries.filter(e => e.duration > 1000);
              if (slowResources.length > 0) {
                console.log('Slow resources detected:', 
                  slowResources.map(r => ({name: r.name, duration: Math.round(r.duration) + 'ms'}))
                );
              }
            });
            resourceObserver.observe({entryTypes: ['resource']});
          } catch (e) {
            console.warn('Performance monitoring error:', e);
          }
        }
      });
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
